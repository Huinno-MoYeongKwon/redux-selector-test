# Redux Selector ìµœì í™” ì™„ë²½ ê°€ì´ë“œ

> **ì–¸ì œ, ì–´ë–¤ í˜•íƒœì˜ selectorì™€ ë™ë“±ì„± ë¹„êµ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì•¼ í• ê¹Œ?**

ì´ ê°€ì´ë“œëŠ” **ì‹¤ì œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¡œ ê²€ì¦ëœ ì‹¤í—˜ ê²°ê³¼**ë¥¼ ë°”íƒ•ìœ¼ë¡œ, Redux Toolkitì˜ `useSelector`ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ì •ë¦¬í•©ë‹ˆë‹¤.

> ğŸ“… **ë§ˆì§€ë§‰ í…ŒìŠ¤íŠ¸**: 2026. 1. 22. ì˜¤í›„ 2:54:21
> âœ… **í…ŒìŠ¤íŠ¸ ê²°ê³¼**: 8ê°œ í†µê³¼ (12.75s)

---

## ëª©ì°¨

1. [ì‹¤í—˜ í™˜ê²½](#1-ì‹¤í—˜-í™˜ê²½)
2. [í•µì‹¬ ê°œë… ì´í•´í•˜ê¸°](#2-í•µì‹¬-ê°œë…-ì´í•´í•˜ê¸°)
3. [ì‹¤í—˜ ê²°ê³¼: ë¦¬ë Œë”ë§ íŒ¨í„´](#3-ì‹¤í—˜-ê²°ê³¼-ë¦¬ë Œë”ë§-íŒ¨í„´)
4. [ì‹¤í—˜ ê²°ê³¼: ì„±ëŠ¥ ì¸¡ì •](#4-ì‹¤í—˜-ê²°ê³¼-ì„±ëŠ¥-ì¸¡ì •)
5. [ì‹œë‚˜ë¦¬ì˜¤ë³„ ê¶Œì¥ íŒ¨í„´](#5-ì‹œë‚˜ë¦¬ì˜¤ë³„-ê¶Œì¥-íŒ¨í„´)
6. [ì•ˆí‹°íŒ¨í„´ê³¼ ì£¼ì˜ì‚¬í•­](#6-ì•ˆí‹°íŒ¨í„´ê³¼-ì£¼ì˜ì‚¬í•­)
7. [ê²°ë¡ ](#7-ê²°ë¡ )

---

## 1. ì‹¤í—˜ í™˜ê²½

### í…ŒìŠ¤íŠ¸ ìŠ¤íƒ

| í•­ëª© | ë²„ì „/ë„êµ¬ |
|------|-----------|
| React | 19.2.0 |
| Redux Toolkit | 2.11.2 |
| react-redux | 9.2.0 |
| í…ŒìŠ¤íŠ¸ ë„êµ¬ | Vitest 4.0.17 + React Testing Library 16.3.2 |
| E2E ë„êµ¬ | Playwright 1.57.0 |

### í…ŒìŠ¤íŠ¸ êµ¬ì„±

| í•­ëª© | ê°’ |
|------|-----|
| ë¦¬ë Œë” í…ŒìŠ¤íŠ¸ ë°˜ë³µ | **1,000íšŒ** |
| ì„±ëŠ¥ ì¸¡ì • ë°˜ë³µ | **10,000íšŒ** |
| í…ŒìŠ¤íŠ¸ ë°°ì—´ í¬ê¸° | 100, 500, 1,000, 2,000, 5,000, 10,000ê°œ |
| ê°ì²´ ë³µì¡ë„ | simple, medium, deep |

### í…ŒìŠ¤íŠ¸í•œ Selector íŒ¨í„´

| Case | íŒ¨í„´ | ì„¤ëª… |
|------|------|------|
| Case 1 | `state => state.items.items` | Store ì§ì ‘ ë°˜í™˜ + ê¸°ë³¸ ë¹„êµ |
| Case 2 | `state => state.items.items.filter(...)` | ê°€ê³µ ë°°ì—´ + ê¸°ë³¸ ë¹„êµ (===) |
| Case 3 | `filter(...) + shallowEqual` | ê°€ê³µ ë°°ì—´ + ì–•ì€ ë¹„êµ |
| Case 4 | `createSelector([...], ...)` | ë©”ëª¨ì´ì¦ˆëœ selector |
| Case 5 | `createSelector + shallowEqual` | ì´ì¤‘ ë³´í˜¸ (ë¶ˆí•„ìš”) |

---

## 2. í•µì‹¬ ê°œë… ì´í•´í•˜ê¸°

### useSelectorì˜ ë™ì‘ ì›ë¦¬

```typescript
const value = useSelector(selector, equalityFn?);
```

1. **Redux storeê°€ ì—…ë°ì´íŠ¸**ë  ë•Œë§ˆë‹¤ selector í•¨ìˆ˜ ì‹¤í–‰
2. **ì´ì „ ê²°ê³¼ì™€ ìƒˆ ê²°ê³¼ë¥¼ ë¹„êµ** (ë™ë“±ì„± ë¹„êµ í•¨ìˆ˜ ì‚¬ìš©)
3. **ê²°ê³¼ê°€ ë‹¤ë¥´ë©´** ì»´í¬ë„ŒíŠ¸ ë¦¬ë Œë”ë§
4. **ê²°ê³¼ê°€ ê°™ìœ¼ë©´** ë¦¬ë Œë”ë§ ìŠ¤í‚µ

### ë™ë“±ì„± ë¹„êµ í•¨ìˆ˜ 3ê°€ì§€

| ë¹„êµ ë°©ì‹ | ë™ì‘ | ë¹„ìš© |
|-----------|------|------|
| **ê¸°ë³¸ ë¹„êµ (===)** | ì°¸ì¡° ë¹„êµ | O(1) - ê°€ì¥ ë¹ ë¦„ |
| **shallowEqual** | 1ë‹¨ê³„ ê¹Šì´ê¹Œì§€ ê°’ ë¹„êµ | O(n) - ë°°ì—´/ê°ì²´ í¬ê¸°ì— ë¹„ë¡€ |
| **createSelector** | ì…ë ¥ ë³€ê²½ ì‹œì—ë§Œ ì¬ê³„ì‚° | O(1) ìºì‹œ íˆíŠ¸ / O(n) ìºì‹œ ë¯¸ìŠ¤ |

---

## 3. ì‹¤í—˜ ê²°ê³¼: ë¦¬ë Œë”ë§ íŒ¨í„´

### ì‹¤í—˜ 1: bumpTick 1,000íšŒ ì—°ì† í˜¸ì¶œ

`bumpTick`ì€ `state.items.tick`ë§Œ ë³€ê²½í•˜ê³  `items` ë°°ì—´ì€ ê±´ë“œë¦¬ì§€ ì•ŠìŠµë‹ˆë‹¤.
**ìµœì í™”ëœ selectorëŠ” ì´ ì•¡ì…˜ì— ë¦¬ë Œë”ë˜ì§€ ì•Šì•„ì•¼ í•©ë‹ˆë‹¤.**

| Case | íŒ¨í„´ | ì¶”ê°€ ë¦¬ë Œë” | ê²°ê³¼ |
|------|------|-------------|------|
| Case 1 | ê¸°ë³¸ ë¹„êµ | **0íšŒ** | âœ… ì •ìƒ |
| Case 2 | filter + === | **1000íšŒ** | âŒ ë¬¸ì œ! |
| Case 3 | filter + shallowEqual | **0íšŒ** | âœ… ì •ìƒ |
| Case 4 | createSelector | **0íšŒ** | âœ… ì •ìƒ |

**í•µì‹¬ ë°œê²¬**: Case 2ëŠ” `filter()`ê°€ ë§¤ë²ˆ ìƒˆ ë°°ì—´ì„ ìƒì„±í•˜ì—¬ **1,000íšŒ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”** ë°œìƒ

### ë¦¬ë Œë” íŒ¨í„´ ìš”ì•½ í‘œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ íŒ¨í„´                    â”‚ bumpTick â”‚ mutateOne â”‚ ê¶Œì¥ë„    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Case 1: ê¸°ë³¸ ë¹„êµ       â”‚ âŒ ì•ˆë¨   â”‚ âœ… ë¨     â”‚ â­â­â­   â”‚
â”‚ Case 2: filter + ===    â”‚ âœ… ë¨    â”‚ âœ… ë¨     â”‚ âŒ í”¼í•¨   â”‚
â”‚ Case 3: filter + shallowâ”‚ âŒ ì•ˆë¨   â”‚ âœ… ë¨     â”‚ â­â­     â”‚
â”‚ Case 4: createSelector  â”‚ âŒ ì•ˆë¨   â”‚ âœ… ë¨     â”‚ â­â­â­â­â­ â”‚
â”‚ Case 5: create + shallowâ”‚ âŒ ì•ˆë¨   â”‚ âœ… ë¨     â”‚ â­â­â­   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. ì‹¤í—˜ ê²°ê³¼: ì„±ëŠ¥ ì¸¡ì •

### ì‹¤í—˜ 2: filter vs createSelector ì„±ëŠ¥ ë¹„êµ (10,000íšŒ í˜¸ì¶œ)

| ë°°ì—´ í¬ê¸° | filter() | createSelector | ì„±ëŠ¥ ê°œì„  |
|-----------|----------|----------------|-----------|
| 100ê°œ | 32.59ms | 0.83ms | **97.46% ì ˆê°** |
| 500ê°œ | 153.44ms | 0.52ms | **99.66% ì ˆê°** |
| 1,000ê°œ | 307.81ms | 0.42ms | **99.86% ì ˆê°** |
| 2,000ê°œ | 621.97ms | 0.41ms | **99.93% ì ˆê°** |
| 5,000ê°œ | 1538.86ms | 0.43ms | **99.97% ì ˆê°** |
| 10,000ê°œ | 3110.56ms | 0.43ms | **99.99% ì ˆê°** |

**í•µì‹¬ ë°œê²¬**: createSelectorëŠ” ë°°ì—´ í¬ê¸°ì™€ ë¬´ê´€í•˜ê²Œ ì¼ì •í•œ ì„±ëŠ¥ (ìºì‹œ íˆíŠ¸ ì‹œ)

### ì„±ëŠ¥ ì‹œê°í™”

```
filter() ì‹¤í–‰ ì‹œê°„ (10,000íšŒ, ë°°ì—´ í¬ê¸°ë³„)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   100ê°œ â–ˆ 32.59ms
   500ê°œ â–ˆâ–ˆ 153.44ms
  1000ê°œ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 307.81ms
  2000ê°œ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 621.97ms
  5000ê°œ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 1538.86ms
 10000ê°œ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 3110.56ms

createSelector ì‹¤í–‰ ì‹œê°„ (10,000íšŒ, ë°°ì—´ í¬ê¸°ë³„)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ëª¨ë“  í¬ê¸° â–ˆ ~0.01ms (ìºì‹œ íˆíŠ¸)
```

---

## 5. ì‹œë‚˜ë¦¬ì˜¤ë³„ ê¶Œì¥ íŒ¨í„´

### ì‹œë‚˜ë¦¬ì˜¤ 1: Storeì—ì„œ ì§ì ‘ ê°’ ê°€ì ¸ì˜¤ê¸°

**ìƒí™©**: `state.user.name`ì²˜ëŸ¼ Storeì˜ ê°’ì„ ê·¸ëŒ€ë¡œ ê°€ì ¸ì˜¬ ë•Œ

```typescript
// âœ… ê¶Œì¥: ê¸°ë³¸ ë¹„êµë¡œ ì¶©ë¶„
const userName = useSelector(state => state.user.name);
const items = useSelector(state => state.items.items);
```

---

### ì‹œë‚˜ë¦¬ì˜¤ 2: ë°°ì—´ í•„í„°ë§/ë³€í™˜

**ìƒí™©**: ë°°ì—´ì—ì„œ ì¡°ê±´ì— ë§ëŠ” í•­ëª©ë§Œ ê°€ì ¸ì˜¬ ë•Œ

```typescript
// âŒ ìµœì•…ì˜ íŒ¨í„´: ë§¤ë²ˆ ìƒˆ ë°°ì—´ ìƒì„±, ë§¤ë²ˆ ë¦¬ë Œë”
const activeItems = useSelector(
  state => state.items.filter(item => item.active)
);

// âš ï¸ ì°¨ì„ ì±…: ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ëŠ” ë°©ì§€í•˜ì§€ë§Œ filterëŠ” ë§¤ë²ˆ ì‹¤í–‰
const activeItems = useSelector(
  state => state.items.filter(item => item.active),
  shallowEqual
);

// âœ… ê¶Œì¥: createSelectorë¡œ ì™„ì „í•œ ë©”ëª¨ì´ì œì´ì…˜
const selectActiveItems = createSelector(
  [state => state.items],
  items => items.filter(item => item.active)
);
const activeItems = useSelector(selectActiveItems);
```

---

### ì‹œë‚˜ë¦¬ì˜¤ 3: ì—¬ëŸ¬ ê°’ì„ ê°ì²´ë¡œ ë¬¶ì–´ì„œ ê°€ì ¸ì˜¤ê¸°

```typescript
// âŒ ì•ˆí‹°íŒ¨í„´: ë§¤ë²ˆ ìƒˆ ê°ì²´ ìƒì„±
const user = useSelector(state => ({
  name: state.user.name,
  email: state.user.email
}));

// âœ… í•´ê²°ì±… 1: ê°œë³„ useSelector (ê¶Œì¥)
const name = useSelector(state => state.user.name);
const email = useSelector(state => state.user.email);

// âœ… í•´ê²°ì±… 2: createSelector
const selectUserInfo = createSelector(
  [state => state.user.name, state => state.user.email],
  (name, email) => ({ name, email })
);
```

---

## 6. ì•ˆí‹°íŒ¨í„´ê³¼ ì£¼ì˜ì‚¬í•­

### âŒ ì•ˆí‹°íŒ¨í„´ 1: ì¸ë¼ì¸ ê°ì²´/ë°°ì—´ ìƒì„±

```typescript
// ë§¤ë²ˆ ìƒˆ ë°°ì—´ ìƒì„± â†’ ë§¤ë²ˆ ë¦¬ë Œë”
const items = useSelector(state =>
  state.items.filter(i => i.active)  // 1000íšŒ bumpTick = 1000íšŒ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”
);
```

### âŒ ì•ˆí‹°íŒ¨í„´ 2: createSelector + shallowEqual ì´ì¤‘ ì‚¬ìš©

```typescript
// ë¶ˆí•„ìš”í•œ ì¤‘ë³µ - createSelectorë§Œìœ¼ë¡œ ì¶©ë¶„
const items = useSelector(memoizedSelector, shallowEqual);
```

### âŒ ì•ˆí‹°íŒ¨í„´ 3: ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ selector ì •ì˜

```typescript
function Component() {
  // âŒ ë§¤ ë Œë”ë§ˆë‹¤ ìƒˆ selector ìƒì„± â†’ ìºì‹œ ë¬´íš¨í™”
  const selectItems = createSelector(
    [state => state.items],
    items => items.filter(i => i.active)
  );
  const items = useSelector(selectItems);
}

// âœ… ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€ì— ì •ì˜
const selectActiveItems = createSelector([...], ...);

function Component() {
  const items = useSelector(selectActiveItems);
}
```

---

## 7. ê²°ë¡ 

### ì˜ì‚¬ê²°ì • í”Œë¡œìš°ì°¨íŠ¸

```
selector ì„ íƒ ê°€ì´ë“œ
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Storeì—ì„œ ê°’ì„ ì§ì ‘ ê°€ì ¸ì˜¤ë‚˜ìš”?      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€ Yes â”€â”€â–¶ âœ… ê¸°ë³¸ ë¹„êµ (===)
       â”‚
       â–¼ No
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ìƒˆë¡œìš´ ë°°ì—´/ê°ì²´ë¥¼ ìƒì„±í•˜ë‚˜ìš”?       â”‚
â”‚ (filter, map, reduce, spread ë“±)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€ No â”€â”€â–¶ âœ… ê¸°ë³¸ ë¹„êµ (===)
       â”‚
       â–¼ Yes
       â”‚
       â–¶ âœ… createSelector ì‚¬ìš© (ê°•ë ¥ ê¶Œì¥)
```

### í•œ ì¤„ ìš”ì•½

| ìƒí™© | ê¶Œì¥ ë°©ë²• | ì‹¤í—˜ ê·¼ê±° |
|------|----------|-----------|
| Store ì§ì ‘ ë°˜í™˜ | ê¸°ë³¸ ë¹„êµ | Case 1: bumpTick 1,000íšŒ ì¤‘ ë¦¬ë Œë” 0íšŒ |
| íŒŒìƒ ë°ì´í„° | **createSelector** | Case 4: 99%+ ì„±ëŠ¥ ê°œì„  |
| ì™¸ë¶€ selector | shallowEqual (ì„ì‹œ) | Case 3: ë¦¬ë Œë” ë°©ì§€, ë¹„ìš© ë°œìƒ |
| filter + === | **ì ˆëŒ€ ì‚¬ìš© ê¸ˆì§€** | Case 2: 1,000íšŒ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë” |

### í•µì‹¬ ì›ì¹™

1. **íŒŒìƒ ë°ì´í„°(filter/map/reduce)ëŠ” ë°˜ë“œì‹œ createSelector ì‚¬ìš©**
   - ì‹¤í—˜ ê²°ê³¼: ëŒ€ìš©ëŸ‰ ë°°ì—´ì—ì„œ 99%+ ì„±ëŠ¥ ê°œì„ 

2. **shallowEqualì€ ì„ì‹œ ë°©í¸ìœ¼ë¡œë§Œ ì‚¬ìš©**
   - ë°°ì—´ í¬ê¸°ì— ë¹„ë¡€í•˜ì—¬ ë¹„êµ ë¹„ìš© ì¦ê°€

3. **createSelector + shallowEqual ì¡°í•©ì€ ë¶ˆí•„ìš”**
   - Case 4ì™€ Case 5ëŠ” ë™ì¼í•œ ë¦¬ë Œë” íŒ¨í„´

4. **ì¸¡ì • í›„ ìµœì í™”**
   - React DevTools Profilerë¡œ ì‹¤ì œ ë¦¬ë Œë” í™•ì¸
   - `pnpm generate-docs`ë¡œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë° ë¬¸ì„œ ê°±ì‹ 

---

## í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë°©ë²•

```bash
# í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë° ë¬¸ì„œ ìë™ ìƒì„±
pnpm generate-docs

# Vitest ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë§Œ ì‹¤í–‰
pnpm test:run

# Playwright E2E í…ŒìŠ¤íŠ¸ ì‹¤í–‰
pnpm test:e2e

# ê°œë°œ ì„œë²„ ì‹¤í–‰ í›„ ì§ì ‘ í…ŒìŠ¤íŠ¸
pnpm dev
```

---

*ì´ ê°€ì´ë“œëŠ” Vitest + React Testing Libraryë¡œ ê²€ì¦ëœ ì‹¤í—˜ ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.*
*í…ŒìŠ¤íŠ¸ ì½”ë“œ: `src/test/selector-patterns.test.tsx`*
*ìë™ ìƒì„±: `pnpm generate-docs`*
